{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// ==========================================================================\n//  This is a boilerplate to use for target activities\n//\n//\tURL example: add in url of project for visibility here\n// ==========================================================================\n\n// ==========================================================================\n// Scripts, helper widgets - import below\n// ==========================================================================\n\nvar cheillondon = cheillondon || {};\n\ncheillondon.targetBoilerplate = (function () {\n\n\t'use strict';\n\n\tvar main = {\n\n\t\t// ==========================================================================\n\t\t// Variables and config Properties add below\n\t\t// ==========================================================================\n\n\n\t\t//Init\n\t\tinit: function () {\n\t\t\tmain.doEverythingTimeout();\n\t\t},\n\n\n\t\t// ==========================================================================\n\t\t// Checking jQuery\n\t\t// ==========================================================================\n\t\tdoEverythingTimeout: function () {\n\t\t\tvar _self = this;\n\n\t\t\tconsole.log('XXX - doEverythingTimeout');\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (window.$) {\n\t\t\t\t\tconsole.log('doEverythingTimeout - jQuery loaded');\n\t\t\t\t\tmain.kickoff();\n\t\t\t\t\tmain.appendNewStyle();\n\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('no jquery')\n\t\t\t\t\t_self.doEverythingTimeout();\n\t\t\t\t}\n\t\t\t}, 900)\n\t\t},\n\n\n\t\t// ==========================================================================\n\t\t// Adding style\n\t\t// ==========================================================================\n\t\tappendNewStyle: function () {\n\n\t\t\t/* FYI: the CSS code is in separated file, in SCSS format that generates the CSS file. After, the gulp file finds the [CSS] and replaces with minified code from file */\n\n\t\t\t//To insert minified inline string uncomment this variable and paste here\n\t\t\t//Else, use default uncommented variable\n\t\t\t// var _css = '';\n\n\t\t\tvar _css = '[[CSS]]';\n\n\t\t\t//\n\t\t\t// Adding style definitions to DOM\n\t\t\t// --------------------------------------------------------------------------\n\t\t\tvar _head = document.head || document.getElementsByTagName('head')[0],\n\t\t\t\t_style = document.createElement('style');\n\n\t\t\t_style.type = 'text/css';\n\t\t\tif (_style.styleSheet) { // This is required for IE8 and below.\n\t\t\t\t_style.styleSheet.cssText = _css;\n\t\t\t} else {\n\t\t\t\t_style.appendChild(document.createTextNode(_css));\n\t\t\t}\n\t\t\t_head.appendChild(_style);\n\n\t\t},\n\n\n\n\t\t// ==========================================================================\n\t\t// When page is already loaded we need to add the new elements\n\t\t// ==========================================================================\n\t\tkickoff: function () {\n\n\t\tconsole.log('we have kickoff') // this is purely for testing\n\n  //just the button to trigger button, so could be created anywhere really\n\n  const daAndTvSkus = [\n\t\t\t\"RF23R62E3SR/EU\",\"RF50A5002S9/EU\",\"RF23R62E3B1/EU\",\"RF24R7201B1/EU\",\"RF24R7201SR/EU\",\"RF65A967FS9/EU\",\"RF65A967FB1/EU\",\"RF65A977FB1/EU\",\"RF65A977FSR/EU\",\"RF23BB860EQNEU\",\"RB34A6B2ECS/EU\",\"RB34A6B2ECE/EU\",\"RB34A6B2E22/EU\",\"RB34A6B2E12/EU\",\"RB34A6B2E48/EU\",\"RB38A7B53S9/EU\",\"RB38A7B53B1/EU\",\"RB38A7B6BB1/EU\",\"RL38A776ASR/EU\",\"RB38T633ESA/EU\",\"RB38T602CS9/EU\",\"RB38T602CWW/EU\",\"RB38T605DB1/EU\",\"RL4363SBASL/EU\",\"RL4363SBAB1/EU\",\"RB36R8839SR/EU\",\"RB36R8899SR/EU\",\"RZ32A74A501/EU\",\"RR39A74A301/EU\",\"RZ32A74A5CE/EU\",\"RZ32A74A5CS/EU\", \"RR39A74A3CE/EU\",\n\n\t\t\t\"RR39A74A3CL/EU\",\"RZ32A74A5CL/EU\",\"RR39A74A322/EU\",\"RZ32A74A522/EU\",\"RZ32A74A512/EU\",\"RZ32A74A541/EU\",\"RZ32A74A539/EU\",\"RZ32A74A548/EU\",\"RR39A74A312/EU\",\"RR39A74A339/EU\",\"RR39A74A341/EU\",\"RR39A74A348/EU\",\"RS67A8810S9/EU\",\"RS67A8811S9/EU\",\"RS68A8820S9/EU\",\"RS68A8830S9/EU\",\"RS68A8830B1/EU\",\"RS68A8840B1/EU\",\"RH68B8830S9/EU\",\"RH68B8830B1/EU\",\"RS6HA8880S9/EU\",\"RH69B8931S9/EU\",\"RH69B8031S9/EU\",\"RH69B8941S9/EU\",\"RH69B8931B1/EU\",\"RS6HA8891SL/EU\",\n\n\t\t\t\"DV90T6240LH/S1\",\"DV90T6240LN/S1\",\"DV90T8240SH/S1\",\"DV90BB9445GBS1\",\"DV90BB9445GHS1\",\"DV90T8240SX/S1\",\n\n\t\t\t\"WD10T654DBH/S1\",\"WD10T654DBN/S1\",\"WD90T984DSH/S1\",\"WD90T984DSX/S1\",\"WW11BB744DGES1\",\"WW10T684DLH/S1\",\"WW10T684DLN/S1\",\"WW11BB944DGHS1\",\"WW11BB944DGBS1\",\"WW90T854DBH/S1\",\"WW90T854DBX/S1\",\"WW90T986DSH/S1\",\"WW90T986DSX/S1\",\n \t\t]\n\n\t\t\tconst creatingEleFun = (eleName = '', className = '') => { // this creates the elements aka divs the 2nd arg will be the name of your div element\n\t\t\t\teleName = document.createElement(eleName)\n\t\t\t\teleName.classList.add(className)\n\t\t\t\treturn eleName\n\t\t\t}\n\n    function insertAfter(newNode, referenceNode) {\n     //Where referenceNode is the node you want to put newNode after. If referenceNode is the last child within its parent element, that's fine, because referenceNode.nextSibling will be null and insertBefore handles that case by adding to the end of the list.\n    referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n\t\t\t}\n\n    const cartSkus = document.querySelectorAll('.cart-item__sku')\n\n    cartSkus.forEach((cartSku) => {\n\n    daAndTvSkus.forEach((mySkus) => {\n    if (cartSku.innerText === mySkus ) {\n\n      const cartItems = document.querySelectorAll('.cart-item');\n\n      cartItems.forEach((cartItem, x) => {\n      const modelCode = cartItem.getAttribute('data-modelcode')\n\t\t\t\t\t\t\tif (modelCode === mySkus ) {\n\n\t\t\t\t\t\t\t\t\t\t\tconst a = document.createElement('a')\n\t\t\t\t\t\t\t\t\t\t\ta.classList.add('trigger__popUp');\n\t\t\t\t\t\t\t\t\t\t\ta.innerText = 'Learn more';\n\n\t\t\t\t\t\t\t\t\t\t\tconst mainDiv         = creatingEleFun('div', 'service-item');\n\t\t\t\t\t\t\t\t\t\t\tconst iconDiv         = creatingEleFun('div', 'service-item__icon');\n\t\t\t\t\t\t\t\t\t\t\tconst anchorLinkPopup = creatingEleFun('div', 'link__popup');\n\t\t\t\t\t\t\t\t\t\t\tconst popup           = creatingEleFun('div', 'popup__pricepromise__modal');\n\t\t\t\t\t\t\t\t\t\t\tconst popupInner      = creatingEleFun('div', 'popupInner');\n\t\t\t\t\t\t\t\t\t\t\tconst close           = creatingEleFun('div', 'close');\n\t\t\t\t\t\t\t\t\t\t\tconst content         = creatingEleFun('div', 'content');\n\n\t\t\t\t\t\t\t\t\t\t\ticonDiv.innerHTML = `\n\t\t\t\t\t\t\t\t\t\t\t<cx-media format=\"TokoMain\" class=\"service-item__icons ng-star-inserted is-initialized\"><img src=\"https://p1-smn2-api-cdn.shop.samsung.com/medias/icon-regular-service-trade-in.png?context=bWFzdGVyfGltYWdlc3wxMzk5fGltYWdlL3BuZ3xoYTYvaDZkLzg4MTk5MzU3Mzk5MzQvaWNvbi1yZWd1bGFyLXNlcnZpY2UtdHJhZGUtaW4ucG5nfDNlNjYyYjg1OWExMjQzNzBlYjlhNGE2NTY0MWNhMWFlNjIzNDVhOWM2MmYxZTY3NjdmOWY3MTE2YzFjZmI2ZjU\" alt=\"trade in icon\" class=\"ng-star-inserted\"><!----></cx-media>\n\t\t\t\t\t\t\t\t\t\t\t`\n\t\t\t\t\t\t\t\t\t\t\tconst contentContainer = creatingEleFun('div', 'service-item__details');\n\t\t\t\t\t\t\t\t\t\t\tcontentContainer.innerHTML = `\n\t\t\t\t\t\t\t\t\t\t\t<h4 class=\"service-item__name\">Trade Up</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"service-item__description ng-star-inserted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>By proceeding to purchase and take advantage of this promotion, you accept the following: The trade-up discount you receive is an incentive to recycle and to purchase a new Samsung appliance or television; it is not a trade-in value for the recycled appliance or television. Recycled appliances and televisions are non-returnable and have a zero value. If you return the appliance or television you purchased for a refund (for any reason) you will not receive any amount or value for your recycled appliance or television. You will be required to fully uninstall (including disconnecting and draining of water, where applicable) your appliance or television and make sure it is ready for collection at the same time we deliver your new appliance or television. We reserve the right to refuse the delivery if you fail to do so. A surcharge equal to the amount of the discount you received will apply if you do not recycle or have your appliance or television ready for recycling. Offer cannot be combined with multi-buy promotions for Home Appliances. Each household may only recycle one of each type of product and will receive only one trade-up discount for each product type recycled.</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t`\n\t\t\t\t\t\t\t\t\t\t\t// anchorLinkPopup.append(a)\n\n\t\t\t\t\t\t\t\t\t\t\tmainDiv.append(iconDiv, contentContainer)\n\t\t\t\t\t\t\t\t\t\t\tpopup.style.display = 'none';\n\n\t\t\t\t\t\t\t\t\t\t\tpopup.append(popupInner)\n\t\t\t\t\t\t\t\t\t\t\tpopupInner.append(close, content)\n\n\t\t\t\t\t\t\t\t\t\t\tinsertAfter(mainDiv, cartItem)\n\t\t\t\t\t\t\t\t\t\t\tinsertAfter(popup, mainDiv)\n\t\t\t\t\t\t\t\t\t\t\t// contentContainer.append(anchorLinkPopup)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n      }\n    })\n  })\n\n    const cartItems = document.querySelectorAll('.service-item')\n\n    cartItems.forEach((cartItem, x) => {\n\n      if (cartItem.innerText.includes('Trade In') && cartItem.style.display !== 'none') {\n\n      const a = document.createElement('a')\n      a.classList.add('trigger__popUp');\n      a.innerText = 'Learn more';\n\n      const mainDiv         = creatingEleFun('div', 'service-item');\n      const iconDiv         = creatingEleFun('div', 'service-item__icon');\n      const anchorLinkPopup = creatingEleFun('div', 'link__popup');\n      const popup           = creatingEleFun('div', 'popup__pricepromise__modal');\n      const popupInner      = creatingEleFun('div', 'popupInner');\n      const close           = creatingEleFun('div', 'close');\n      const content         = creatingEleFun('div', 'content');\n\n      iconDiv.innerHTML = `\n      <cx-media format=\"TokoMain\" class=\"service-item__icons ng-star-inserted is-initialized\"><img src=\"https://p1-smn2-api-cdn.shop.samsung.com/medias/icon-regular-service-trade-in.png?context=bWFzdGVyfGltYWdlc3wxMzk5fGltYWdlL3BuZ3xoYTYvaDZkLzg4MTk5MzU3Mzk5MzQvaWNvbi1yZWd1bGFyLXNlcnZpY2UtdHJhZGUtaW4ucG5nfDNlNjYyYjg1OWExMjQzNzBlYjlhNGE2NTY0MWNhMWFlNjIzNDVhOWM2MmYxZTY3NjdmOWY3MTE2YzFjZmI2ZjU\" alt=\"trade in icon\" class=\"ng-star-inserted\"><!----></cx-media>\n      `\n      const contentContainer = creatingEleFun('div', 'service-item__details');\n      contentContainer.innerHTML = `\n      <h4 class=\"service-item__name\">Trade Up</h4>\n      <div class=\"service-item__description ng-star-inserted\">\n\t\t\t\t\t\t\t<p>Please note: The discount you receive is an incentive to recycle and to purchase a new Samsung device or appliance; it is not a trade-in value for the recycled device or appliance. Recycled device or appliance are non-returnable and have a zero value. If you return your purchased device or appliance for a refund (for any reason) you will not receive any amount or value for your recycled device or appliance.</p>\n      </div>\n      `\n      // anchorLinkPopup.append(a)\n      mainDiv.append(iconDiv, contentContainer)\n      popup.style.display = 'none';\n      popup.append(popupInner)\n      popupInner.append(close, content)\n      insertAfter(mainDiv, cartItem)\n      insertAfter(popup, mainDiv)\n      // contentContainer.append(anchorLinkPopup)\n\n      // console.log(contentContainer.parentElement)\n      contentContainer.parentElement.style.display = 'none'\n\n      }\n    })\n\n\t\t\t\t\tfunction sendBuyData315(data) {\n\t\t\t\t\t\ts.linkTrackVars = \"eVar41,events\";\n\t\t\t\t\t\ts.linkTrackEvents = \"scAdd,scView\";\n\t\t\t\t\t\ts.events = \"scAdd,scView\";\n\t\t\t\t\t\ts.eVar41 = data;\n\t\t\t\t\t\ts.tl(this, 'o');\n\t\t\t\t};\n\n\t\t\t\t\tconst learnmoreCTA = document.querySelector('.trigger__popUp');\n\n\t\t\t\t\t$(learnmoreCTA).bind('click', function () {\n\t\t\t\t\tsendBuyData315($(this).attr('learnmore'))\n\t\t\t});\n\t\t},\n\n\n\t\t// ==========================================================================\n\t\t// Set Events\n\t\t// ==========================================================================\n\t\tsetEvents: function (elm = '') {\n\n\t\t\tconsole.log('XXX - setEvents: ' + elm);\n\n\t\t\tswitch (elm) {\n\t\t\t\tcase 'modal':\n\t\t\t\t\t//code to open modal;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'financePopup':\n\t\t\t\t//code to open something else;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t},\n\n\t\tresizeWindow: function () {\n\t\t\t// as new elements added to panel we need to resize window to activate amend height of Product Panels\n\t\t\tsetTimeout(function () {\n\t\t\t\t$(window).resize();\n\t\t\t\tconsole.log('window resized');\n\t\t\t}, 100);\n\t\t},\n\n\t};\n\treturn {\n\t\tmain: main\n\t};\n\n})();\n\ncheillondon.targetBoilerplate.main.init();\n\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTthQ1VBLElBQUksWUFBYyxnQkFFbEIsWUFBWSxrQkFBcUIsV0FJaEMsSUFBSSxHQVFILEtBQU0sV0FDTCxFQUFLLHVCQU9OLG9CQUFxQixXQUNwQixJQUFJLEVBQVEsS0FFWixRQUFRLElBQUksNkJBRVosV0FBVyxXQUNOLE9BQU8sR0FDVixRQUFRLElBQUksdUNBQ1osRUFBSyxVQUNMLEVBQUssbUJBR0wsUUFBUSxJQUFJLGFBQ1osRUFBTSx3QkFFTCxNQU9KLGVBQWdCLFdBUWYsSUFLSSxFQUFRLFNBQVMsTUFBUSxTQUFTLHFCQUFxQixRQUFRLEdBQ2xFLEVBQVMsU0FBUyxjQUFjLFNBRWpDLEVBQU8sS0FBTyxXQUNWLEVBQU8sV0FDVixFQUFPLFdBQVcsUUFWUixVQVlWLEVBQU8sWUFBWSxTQUFTLGVBWmxCLFlBY1gsRUFBTSxZQUFZLElBU25CLFFBQVMsV0FFVCxRQUFRLElBQUksbUJBSVosSUFBTSxHQUNMLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFrQixpQkFFaGhCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJBQWlCLGlCQUFpQixpQkFBaUIsaUJB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ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAgVGhpcyBpcyBhIGJvaWxlcnBsYXRlIHRvIHVzZSBmb3IgdGFyZ2V0IGFjdGl2aXRpZXNcbi8vXG4vL1x0VVJMIGV4YW1wbGU6IGFkZCBpbiB1cmwgb2YgcHJvamVjdCBmb3IgdmlzaWJpbGl0eSBoZXJlXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2NyaXB0cywgaGVscGVyIHdpZGdldHMgLSBpbXBvcnQgYmVsb3dcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbnZhciBjaGVpbGxvbmRvbiA9IGNoZWlsbG9uZG9uIHx8IHt9O1xuXG5jaGVpbGxvbmRvbi50YXJnZXRCb2lsZXJwbGF0ZSA9IChmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYWluID0ge1xuXG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHQvLyBWYXJpYWJsZXMgYW5kIGNvbmZpZyBQcm9wZXJ0aWVzIGFkZCBiZWxvd1xuXHRcdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuXHRcdC8vSW5pdFxuXHRcdGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdG1haW4uZG9FdmVyeXRoaW5nVGltZW91dCgpO1xuXHRcdH0sXG5cblxuXHRcdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0Ly8gQ2hlY2tpbmcgalF1ZXJ5XG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHRkb0V2ZXJ5dGhpbmdUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgX3NlbGYgPSB0aGlzO1xuXG5cdFx0XHRjb25zb2xlLmxvZygnWFhYIC0gZG9FdmVyeXRoaW5nVGltZW91dCcpO1xuXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHdpbmRvdy4kKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2RvRXZlcnl0aGluZ1RpbWVvdXQgLSBqUXVlcnkgbG9hZGVkJyk7XG5cdFx0XHRcdFx0bWFpbi5raWNrb2ZmKCk7XG5cdFx0XHRcdFx0bWFpbi5hcHBlbmROZXdTdHlsZSgpO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ25vIGpxdWVyeScpXG5cdFx0XHRcdFx0X3NlbGYuZG9FdmVyeXRoaW5nVGltZW91dCgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCA5MDApXG5cdFx0fSxcblxuXG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHQvLyBBZGRpbmcgc3R5bGVcblx0XHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdGFwcGVuZE5ld1N0eWxlOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdC8qIEZZSTogdGhlIENTUyBjb2RlIGlzIGluIHNlcGFyYXRlZCBmaWxlLCBpbiBTQ1NTIGZvcm1hdCB0aGF0IGdlbmVyYXRlcyB0aGUgQ1NTIGZpbGUuIEFmdGVyLCB0aGUgZ3VscCBmaWxlIGZpbmRzIHRoZSBbQ1NTXSBhbmQgcmVwbGFjZXMgd2l0aCBtaW5pZmllZCBjb2RlIGZyb20gZmlsZSAqL1xuXG5cdFx0XHQvL1RvIGluc2VydCBtaW5pZmllZCBpbmxpbmUgc3RyaW5nIHVuY29tbWVudCB0aGlzIHZhcmlhYmxlIGFuZCBwYXN0ZSBoZXJlXG5cdFx0XHQvL0Vsc2UsIHVzZSBkZWZhdWx0IHVuY29tbWVudGVkIHZhcmlhYmxlXG5cdFx0XHQvLyB2YXIgX2NzcyA9ICcnO1xuXG5cdFx0XHR2YXIgX2NzcyA9ICdbW0NTU11dJztcblxuXHRcdFx0Ly9cblx0XHRcdC8vIEFkZGluZyBzdHlsZSBkZWZpbml0aW9ucyB0byBET01cblx0XHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0XHR2YXIgX2hlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0sXG5cdFx0XHRcdF9zdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG5cblx0XHRcdF9zdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblx0XHRcdGlmIChfc3R5bGUuc3R5bGVTaGVldCkgeyAvLyBUaGlzIGlzIHJlcXVpcmVkIGZvciBJRTggYW5kIGJlbG93LlxuXHRcdFx0XHRfc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gX2Nzcztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdF9zdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShfY3NzKSk7XG5cdFx0XHR9XG5cdFx0XHRfaGVhZC5hcHBlbmRDaGlsZChfc3R5bGUpO1xuXG5cdFx0fSxcblxuXG5cblx0XHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdC8vIFdoZW4gcGFnZSBpcyBhbHJlYWR5IGxvYWRlZCB3ZSBuZWVkIHRvIGFkZCB0aGUgbmV3IGVsZW1lbnRzXG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHRraWNrb2ZmOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRjb25zb2xlLmxvZygnd2UgaGF2ZSBraWNrb2ZmJykgLy8gdGhpcyBpcyBwdXJlbHkgZm9yIHRlc3RpbmdcblxuICAvL2p1c3QgdGhlIGJ1dHRvbiB0byB0cmlnZ2VyIGJ1dHRvbiwgc28gY291bGQgYmUgY3JlYXRlZCBhbnl3aGVyZSByZWFsbHlcblxuICBjb25zdCBkYUFuZFR2U2t1cyA9IFtcblx0XHRcdFwiUkYyM1I2MkUzU1IvRVVcIixcIlJGNTBBNTAwMlM5L0VVXCIsXCJSRjIzUjYyRTNCMS9FVVwiLFwiUkYyNFI3MjAxQjEvRVVcIixcIlJGMjRSNzIwMVNSL0VVXCIsXCJSRjY1QTk2N0ZTOS9FVVwiLFwiUkY2NUE5NjdGQjEvRVVcIixcIlJGNjVBOTc3RkIxL0VVXCIsXCJSRjY1QTk3N0ZTUi9FVVwiLFwiUkYyM0JCODYwRVFORVVcIixcIlJCMzRBNkIyRUNTL0VVXCIsXCJSQjM0QTZCMkVDRS9FVVwiLFwiUkIzNEE2QjJFMjIvRVVcIixcIlJCMzRBNkIyRTEyL0VVXCIsXCJSQjM0QTZCMkU0OC9FVVwiLFwiUkIzOEE3QjUzUzkvRVVcIixcIlJCMzhBN0I1M0IxL0VVXCIsXCJSQjM4QTdCNkJCMS9FVVwiLFwiUkwzOEE3NzZBU1IvRVVcIixcIlJCMzhUNjMzRVNBL0VVXCIsXCJSQjM4VDYwMkNTOS9FVVwiLFwiUkIzOFQ2MDJDV1cvRVVcIixcIlJCMzhUNjA1REIxL0VVXCIsXCJSTDQzNjNTQkFTTC9FVVwiLFwiUkw0MzYzU0JBQjEvRVVcIixcIlJCMzZSODgzOVNSL0VVXCIsXCJSQjM2Ujg4OTlTUi9FVVwiLFwiUlozMkE3NEE1MDEvRVVcIixcIlJSMzlBNzRBMzAxL0VVXCIsXCJSWjMyQTc0QTVDRS9FVVwiLFwiUlozMkE3NEE1Q1MvRVVcIiwgXCJSUjM5QTc0QTNDRS9FVVwiLFxuXG5cdFx0XHRcIlJSMzlBNzRBM0NML0VVXCIsXCJSWjMyQTc0QTVDTC9FVVwiLFwiUlIzOUE3NEEzMjIvRVVcIixcIlJaMzJBNzRBNTIyL0VVXCIsXCJSWjMyQTc0QTUxMi9FVVwiLFwiUlozMkE3NEE1NDEvRVVcIixcIlJaMzJBNzRBNTM5L0VVXCIsXCJSWjMyQTc0QTU0OC9FVVwiLFwiUlIzOUE3NEEzMTIvRVVcIixcIlJSMzlBNzRBMzM5L0VVXCIsXCJSUjM5QTc0QTM0MS9FVVwiLFwiUlIzOUE3NEEzNDgvRVVcIixcIlJTNjdBODgxMFM5L0VVXCIsXCJSUzY3QTg4MTFTOS9FVVwiLFwiUlM2OEE4ODIwUzkvRVVcIixcIlJTNjhBODgzMFM5L0VVXCIsXCJSUzY4QTg4MzBCMS9FVVwiLFwiUlM2OEE4ODQwQjEvRVVcIixcIlJINjhCODgzMFM5L0VVXCIsXCJSSDY4Qjg4MzBCMS9FVVwiLFwiUlM2SEE4ODgwUzkvRVVcIixcIlJINjlCODkzMVM5L0VVXCIsXCJSSDY5QjgwMzFTOS9FVVwiLFwiUkg2OUI4OTQxUzkvRVVcIixcIlJINjlCODkzMUIxL0VVXCIsXCJSUzZIQTg4OTFTTC9FVVwiLFxuXG5cdFx0XHRcIkRWOTBUNjI0MExIL1MxXCIsXCJEVjkwVDYyNDBMTi9TMVwiLFwiRFY5MFQ4MjQwU0gvUzFcIixcIkRWOTBCQjk0NDVHQlMxXCIsXCJEVjkwQkI5NDQ1R0hTMVwiLFwiRFY5MFQ4MjQwU1gvUzFcIixcblxuXHRcdFx0XCJXRDEwVDY1NERCSC9TMVwiLFwiV0QxMFQ2NTREQk4vUzFcIixcIldEOTBUOTg0RFNIL1MxXCIsXCJXRDkwVDk4NERTWC9TMVwiLFwiV1cxMUJCNzQ0REdFUzFcIixcIldXMTBUNjg0RExIL1MxXCIsXCJXVzEwVDY4NERMTi9TMVwiLFwiV1cxMUJCOTQ0REdIUzFcIixcIldXMTFCQjk0NERHQlMxXCIsXCJXVzkwVDg1NERCSC9TMVwiLFwiV1c5MFQ4NTREQlgvUzFcIixcIldXOTBUOTg2RFNIL1MxXCIsXCJXVzkwVDk4NkRTWC9TMVwiLFxuIFx0XHRdXG5cblx0XHRcdGNvbnN0IGNyZWF0aW5nRWxlRnVuID0gKGVsZU5hbWUgPSAnJywgY2xhc3NOYW1lID0gJycpID0+IHsgLy8gdGhpcyBjcmVhdGVzIHRoZSBlbGVtZW50cyBha2EgZGl2cyB0aGUgMm5kIGFyZyB3aWxsIGJlIHRoZSBuYW1lIG9mIHlvdXIgZGl2IGVsZW1lbnRcblx0XHRcdFx0ZWxlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlTmFtZSlcblx0XHRcdFx0ZWxlTmFtZS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSlcblx0XHRcdFx0cmV0dXJuIGVsZU5hbWVcblx0XHRcdH1cblxuICAgIGZ1bmN0aW9uIGluc2VydEFmdGVyKG5ld05vZGUsIHJlZmVyZW5jZU5vZGUpIHtcbiAgICAgLy9XaGVyZSByZWZlcmVuY2VOb2RlIGlzIHRoZSBub2RlIHlvdSB3YW50IHRvIHB1dCBuZXdOb2RlIGFmdGVyLiBJZiByZWZlcmVuY2VOb2RlIGlzIHRoZSBsYXN0IGNoaWxkIHdpdGhpbiBpdHMgcGFyZW50IGVsZW1lbnQsIHRoYXQncyBmaW5lLCBiZWNhdXNlIHJlZmVyZW5jZU5vZGUubmV4dFNpYmxpbmcgd2lsbCBiZSBudWxsIGFuZCBpbnNlcnRCZWZvcmUgaGFuZGxlcyB0aGF0IGNhc2UgYnkgYWRkaW5nIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QuXG4gICAgcmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlLm5leHRTaWJsaW5nKTtcblx0XHRcdH1cblxuICAgIGNvbnN0IGNhcnRTa3VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcnQtaXRlbV9fc2t1JylcblxuICAgIGNhcnRTa3VzLmZvckVhY2goKGNhcnRTa3UpID0+IHtcblxuICAgIGRhQW5kVHZTa3VzLmZvckVhY2goKG15U2t1cykgPT4ge1xuICAgIGlmIChjYXJ0U2t1LmlubmVyVGV4dCA9PT0gbXlTa3VzICkge1xuXG4gICAgICBjb25zdCBjYXJ0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FydC1pdGVtJyk7XG5cbiAgICAgIGNhcnRJdGVtcy5mb3JFYWNoKChjYXJ0SXRlbSwgeCkgPT4ge1xuICAgICAgY29uc3QgbW9kZWxDb2RlID0gY2FydEl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLW1vZGVsY29kZScpXG5cdFx0XHRcdFx0XHRcdGlmIChtb2RlbENvZGUgPT09IG15U2t1cyApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhLmNsYXNzTGlzdC5hZGQoJ3RyaWdnZXJfX3BvcFVwJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YS5pbm5lclRleHQgPSAnTGVhcm4gbW9yZSc7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBtYWluRGl2ICAgICAgICAgPSBjcmVhdGluZ0VsZUZ1bignZGl2JywgJ3NlcnZpY2UtaXRlbScpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGljb25EaXYgICAgICAgICA9IGNyZWF0aW5nRWxlRnVuKCdkaXYnLCAnc2VydmljZS1pdGVtX19pY29uJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgYW5jaG9yTGlua1BvcHVwID0gY3JlYXRpbmdFbGVGdW4oJ2RpdicsICdsaW5rX19wb3B1cCcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHBvcHVwICAgICAgICAgICA9IGNyZWF0aW5nRWxlRnVuKCdkaXYnLCAncG9wdXBfX3ByaWNlcHJvbWlzZV9fbW9kYWwnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBwb3B1cElubmVyICAgICAgPSBjcmVhdGluZ0VsZUZ1bignZGl2JywgJ3BvcHVwSW5uZXInKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBjbG9zZSAgICAgICAgICAgPSBjcmVhdGluZ0VsZUZ1bignZGl2JywgJ2Nsb3NlJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgY29udGVudCAgICAgICAgID0gY3JlYXRpbmdFbGVGdW4oJ2RpdicsICdjb250ZW50Jyk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpY29uRGl2LmlubmVySFRNTCA9IGBcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8Y3gtbWVkaWEgZm9ybWF0PVwiVG9rb01haW5cIiBjbGFzcz1cInNlcnZpY2UtaXRlbV9faWNvbnMgbmctc3Rhci1pbnNlcnRlZCBpcy1pbml0aWFsaXplZFwiPjxpbWcgc3JjPVwiaHR0cHM6Ly9wMS1zbW4yLWFwaS1jZG4uc2hvcC5zYW1zdW5nLmNvbS9tZWRpYXMvaWNvbi1yZWd1bGFyLXNlcnZpY2UtdHJhZGUtaW4ucG5nP2NvbnRleHQ9YldGemRHVnlmR2x0WVdkbGMzd3hNems1ZkdsdFlXZGxMM0J1WjN4b1lUWXZhRFprTHpnNE1UazVNelUzTXprNU16UXZhV052YmkxeVpXZDFiR0Z5TFhObGNuWnBZMlV0ZEhKaFpHVXRhVzR1Y0c1bmZETmxOall5WWpnMU9XRXhNalF6TnpCbFlqbGhOR0UyTlRZME1XTmhNV0ZsTmpJek5EVmhPV00yTW1ZeFpUWTNOamRtT1dZM01URTJZekZqWm1JMlpqVVwiIGFsdD1cInRyYWRlIGluIGljb25cIiBjbGFzcz1cIm5nLXN0YXItaW5zZXJ0ZWRcIj48IS0tLS0+PC9jeC1tZWRpYT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgY29udGVudENvbnRhaW5lciA9IGNyZWF0aW5nRWxlRnVuKCdkaXYnLCAnc2VydmljZS1pdGVtX19kZXRhaWxzJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGVudENvbnRhaW5lci5pbm5lckhUTUwgPSBgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGg0IGNsYXNzPVwic2VydmljZS1pdGVtX19uYW1lXCI+VHJhZGUgVXA8L2g0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInNlcnZpY2UtaXRlbV9fZGVzY3JpcHRpb24gbmctc3Rhci1pbnNlcnRlZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxwPkJ5IHByb2NlZWRpbmcgdG8gcHVyY2hhc2UgYW5kIHRha2UgYWR2YW50YWdlIG9mIHRoaXMgcHJvbW90aW9uLCB5b3UgYWNjZXB0IHRoZSBmb2xsb3dpbmc6IFRoZSB0cmFkZS11cCBkaXNjb3VudCB5b3UgcmVjZWl2ZSBpcyBhbiBpbmNlbnRpdmUgdG8gcmVjeWNsZSBhbmQgdG8gcHVyY2hhc2UgYSBuZXcgU2Ftc3VuZyBhcHBsaWFuY2Ugb3IgdGVsZXZpc2lvbjsgaXQgaXMgbm90IGEgdHJhZGUtaW4gdmFsdWUgZm9yIHRoZSByZWN5Y2xlZCBhcHBsaWFuY2Ugb3IgdGVsZXZpc2lvbi4gUmVjeWNsZWQgYXBwbGlhbmNlcyBhbmQgdGVsZXZpc2lvbnMgYXJlIG5vbi1yZXR1cm5hYmxlIGFuZCBoYXZlIGEgemVybyB2YWx1ZS4gSWYgeW91IHJldHVybiB0aGUgYXBwbGlhbmNlIG9yIHRlbGV2aXNpb24geW91IHB1cmNoYXNlZCBmb3IgYSByZWZ1bmQgKGZvciBhbnkgcmVhc29uKSB5b3Ugd2lsbCBub3QgcmVjZWl2ZSBhbnkgYW1vdW50IG9yIHZhbHVlIGZvciB5b3VyIHJlY3ljbGVkIGFwcGxpYW5jZSBvciB0ZWxldmlzaW9uLiBZb3Ugd2lsbCBiZSByZXF1aXJlZCB0byBmdWxseSB1bmluc3RhbGwgKGluY2x1ZGluZyBkaXNjb25uZWN0aW5nIGFuZCBkcmFpbmluZyBvZiB3YXRlciwgd2hlcmUgYXBwbGljYWJsZSkgeW91ciBhcHBsaWFuY2Ugb3IgdGVsZXZpc2lvbiBhbmQgbWFrZSBzdXJlIGl0IGlzIHJlYWR5IGZvciBjb2xsZWN0aW9uIGF0IHRoZSBzYW1lIHRpbWUgd2UgZGVsaXZlciB5b3VyIG5ldyBhcHBsaWFuY2Ugb3IgdGVsZXZpc2lvbi4gV2UgcmVzZXJ2ZSB0aGUgcmlnaHQgdG8gcmVmdXNlIHRoZSBkZWxpdmVyeSBpZiB5b3UgZmFpbCB0byBkbyBzby4gQSBzdXJjaGFyZ2UgZXF1YWwgdG8gdGhlIGFtb3VudCBvZiB0aGUgZGlzY291bnQgeW91IHJlY2VpdmVkIHdpbGwgYXBwbHkgaWYgeW91IGRvIG5vdCByZWN5Y2xlIG9yIGhhdmUgeW91ciBhcHBsaWFuY2Ugb3IgdGVsZXZpc2lvbiByZWFkeSBmb3IgcmVjeWNsaW5nLiBPZmZlciBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBtdWx0aS1idXkgcHJvbW90aW9ucyBmb3IgSG9tZSBBcHBsaWFuY2VzLiBFYWNoIGhvdXNlaG9sZCBtYXkgb25seSByZWN5Y2xlIG9uZSBvZiBlYWNoIHR5cGUgb2YgcHJvZHVjdCBhbmQgd2lsbCByZWNlaXZlIG9ubHkgb25lIHRyYWRlLXVwIGRpc2NvdW50IGZvciBlYWNoIHByb2R1Y3QgdHlwZSByZWN5Y2xlZC48L3A+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRgXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5jaG9yTGlua1BvcHVwLmFwcGVuZChhKVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWFpbkRpdi5hcHBlbmQoaWNvbkRpdiwgY29udGVudENvbnRhaW5lcilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwb3B1cC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cG9wdXAuYXBwZW5kKHBvcHVwSW5uZXIpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cG9wdXBJbm5lci5hcHBlbmQoY2xvc2UsIGNvbnRlbnQpXG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpbnNlcnRBZnRlcihtYWluRGl2LCBjYXJ0SXRlbSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpbnNlcnRBZnRlcihwb3B1cCwgbWFpbkRpdilcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBjb250ZW50Q29udGFpbmVyLmFwcGVuZChhbmNob3JMaW5rUG9wdXApXG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pXG4gICAgICB9XG4gICAgfSlcbiAgfSlcblxuICAgIGNvbnN0IGNhcnRJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZXJ2aWNlLWl0ZW0nKVxuXG4gICAgY2FydEl0ZW1zLmZvckVhY2goKGNhcnRJdGVtLCB4KSA9PiB7XG5cbiAgICAgIGlmIChjYXJ0SXRlbS5pbm5lclRleHQuaW5jbHVkZXMoJ1RyYWRlIEluJykgJiYgY2FydEl0ZW0uc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnKSB7XG5cbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJylcbiAgICAgIGEuY2xhc3NMaXN0LmFkZCgndHJpZ2dlcl9fcG9wVXAnKTtcbiAgICAgIGEuaW5uZXJUZXh0ID0gJ0xlYXJuIG1vcmUnO1xuXG4gICAgICBjb25zdCBtYWluRGl2ICAgICAgICAgPSBjcmVhdGluZ0VsZUZ1bignZGl2JywgJ3NlcnZpY2UtaXRlbScpO1xuICAgICAgY29uc3QgaWNvbkRpdiAgICAgICAgID0gY3JlYXRpbmdFbGVGdW4oJ2RpdicsICdzZXJ2aWNlLWl0ZW1fX2ljb24nKTtcbiAgICAgIGNvbnN0IGFuY2hvckxpbmtQb3B1cCA9IGNyZWF0aW5nRWxlRnVuKCdkaXYnLCAnbGlua19fcG9wdXAnKTtcbiAgICAgIGNvbnN0IHBvcHVwICAgICAgICAgICA9IGNyZWF0aW5nRWxlRnVuKCdkaXYnLCAncG9wdXBfX3ByaWNlcHJvbWlzZV9fbW9kYWwnKTtcbiAgICAgIGNvbnN0IHBvcHVwSW5uZXIgICAgICA9IGNyZWF0aW5nRWxlRnVuKCdkaXYnLCAncG9wdXBJbm5lcicpO1xuICAgICAgY29uc3QgY2xvc2UgICAgICAgICAgID0gY3JlYXRpbmdFbGVGdW4oJ2RpdicsICdjbG9zZScpO1xuICAgICAgY29uc3QgY29udGVudCAgICAgICAgID0gY3JlYXRpbmdFbGVGdW4oJ2RpdicsICdjb250ZW50Jyk7XG5cbiAgICAgIGljb25EaXYuaW5uZXJIVE1MID0gYFxuICAgICAgPGN4LW1lZGlhIGZvcm1hdD1cIlRva29NYWluXCIgY2xhc3M9XCJzZXJ2aWNlLWl0ZW1fX2ljb25zIG5nLXN0YXItaW5zZXJ0ZWQgaXMtaW5pdGlhbGl6ZWRcIj48aW1nIHNyYz1cImh0dHBzOi8vcDEtc21uMi1hcGktY2RuLnNob3Auc2Ftc3VuZy5jb20vbWVkaWFzL2ljb24tcmVndWxhci1zZXJ2aWNlLXRyYWRlLWluLnBuZz9jb250ZXh0PWJXRnpkR1Z5ZkdsdFlXZGxjM3d4TXprNWZHbHRZV2RsTDNCdVozeG9ZVFl2YURaa0x6ZzRNVGs1TXpVM016azVNelF2YVdOdmJpMXlaV2QxYkdGeUxYTmxjblpwWTJVdGRISmhaR1V0YVc0dWNHNW5mRE5sTmpZeVlqZzFPV0V4TWpRek56QmxZamxoTkdFMk5UWTBNV05oTVdGbE5qSXpORFZoT1dNMk1tWXhaVFkzTmpkbU9XWTNNVEUyWXpGalptSTJaalVcIiBhbHQ9XCJ0cmFkZSBpbiBpY29uXCIgY2xhc3M9XCJuZy1zdGFyLWluc2VydGVkXCI+PCEtLS0tPjwvY3gtbWVkaWE+XG4gICAgICBgXG4gICAgICBjb25zdCBjb250ZW50Q29udGFpbmVyID0gY3JlYXRpbmdFbGVGdW4oJ2RpdicsICdzZXJ2aWNlLWl0ZW1fX2RldGFpbHMnKTtcbiAgICAgIGNvbnRlbnRDb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGg0IGNsYXNzPVwic2VydmljZS1pdGVtX19uYW1lXCI+VHJhZGUgVXA8L2g0PlxuICAgICAgPGRpdiBjbGFzcz1cInNlcnZpY2UtaXRlbV9fZGVzY3JpcHRpb24gbmctc3Rhci1pbnNlcnRlZFwiPlxuXHRcdFx0XHRcdFx0XHQ8cD5QbGVhc2Ugbm90ZTogVGhlIGRpc2NvdW50IHlvdSByZWNlaXZlIGlzIGFuIGluY2VudGl2ZSB0byByZWN5Y2xlIGFuZCB0byBwdXJjaGFzZSBhIG5ldyBTYW1zdW5nIGRldmljZSBvciBhcHBsaWFuY2U7IGl0IGlzIG5vdCBhIHRyYWRlLWluIHZhbHVlIGZvciB0aGUgcmVjeWNsZWQgZGV2aWNlIG9yIGFwcGxpYW5jZS4gUmVjeWNsZWQgZGV2aWNlIG9yIGFwcGxpYW5jZSBhcmUgbm9uLXJldHVybmFibGUgYW5kIGhhdmUgYSB6ZXJvIHZhbHVlLiBJZiB5b3UgcmV0dXJuIHlvdXIgcHVyY2hhc2VkIGRldmljZSBvciBhcHBsaWFuY2UgZm9yIGEgcmVmdW5kIChmb3IgYW55IHJlYXNvbikgeW91IHdpbGwgbm90IHJlY2VpdmUgYW55IGFtb3VudCBvciB2YWx1ZSBmb3IgeW91ciByZWN5Y2xlZCBkZXZpY2Ugb3IgYXBwbGlhbmNlLjwvcD5cbiAgICAgIDwvZGl2PlxuICAgICAgYFxuICAgICAgLy8gYW5jaG9yTGlua1BvcHVwLmFwcGVuZChhKVxuICAgICAgbWFpbkRpdi5hcHBlbmQoaWNvbkRpdiwgY29udGVudENvbnRhaW5lcilcbiAgICAgIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICBwb3B1cC5hcHBlbmQocG9wdXBJbm5lcilcbiAgICAgIHBvcHVwSW5uZXIuYXBwZW5kKGNsb3NlLCBjb250ZW50KVxuICAgICAgaW5zZXJ0QWZ0ZXIobWFpbkRpdiwgY2FydEl0ZW0pXG4gICAgICBpbnNlcnRBZnRlcihwb3B1cCwgbWFpbkRpdilcbiAgICAgIC8vIGNvbnRlbnRDb250YWluZXIuYXBwZW5kKGFuY2hvckxpbmtQb3B1cClcblxuICAgICAgLy8gY29uc29sZS5sb2coY29udGVudENvbnRhaW5lci5wYXJlbnRFbGVtZW50KVxuICAgICAgY29udGVudENvbnRhaW5lci5wYXJlbnRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcblxuICAgICAgfVxuICAgIH0pXG5cblx0XHRcdFx0XHRmdW5jdGlvbiBzZW5kQnV5RGF0YTMxNShkYXRhKSB7XG5cdFx0XHRcdFx0XHRzLmxpbmtUcmFja1ZhcnMgPSBcImVWYXI0MSxldmVudHNcIjtcblx0XHRcdFx0XHRcdHMubGlua1RyYWNrRXZlbnRzID0gXCJzY0FkZCxzY1ZpZXdcIjtcblx0XHRcdFx0XHRcdHMuZXZlbnRzID0gXCJzY0FkZCxzY1ZpZXdcIjtcblx0XHRcdFx0XHRcdHMuZVZhcjQxID0gZGF0YTtcblx0XHRcdFx0XHRcdHMudGwodGhpcywgJ28nKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRcdGNvbnN0IGxlYXJubW9yZUNUQSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50cmlnZ2VyX19wb3BVcCcpO1xuXG5cdFx0XHRcdFx0JChsZWFybm1vcmVDVEEpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHNlbmRCdXlEYXRhMzE1KCQodGhpcykuYXR0cignbGVhcm5tb3JlJykpXG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cblx0XHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdC8vIFNldCBFdmVudHNcblx0XHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdHNldEV2ZW50czogZnVuY3Rpb24gKGVsbSA9ICcnKSB7XG5cblx0XHRcdGNvbnNvbGUubG9nKCdYWFggLSBzZXRFdmVudHM6ICcgKyBlbG0pO1xuXG5cdFx0XHRzd2l0Y2ggKGVsbSkge1xuXHRcdFx0XHRjYXNlICdtb2RhbCc6XG5cdFx0XHRcdFx0Ly9jb2RlIHRvIG9wZW4gbW9kYWw7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2ZpbmFuY2VQb3B1cCc6XG5cdFx0XHRcdC8vY29kZSB0byBvcGVuIHNvbWV0aGluZyBlbHNlO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0fSxcblxuXHRcdHJlc2l6ZVdpbmRvdzogZnVuY3Rpb24gKCkge1xuXHRcdFx0Ly8gYXMgbmV3IGVsZW1lbnRzIGFkZGVkIHRvIHBhbmVsIHdlIG5lZWQgdG8gcmVzaXplIHdpbmRvdyB0byBhY3RpdmF0ZSBhbWVuZCBoZWlnaHQgb2YgUHJvZHVjdCBQYW5lbHNcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkKHdpbmRvdykucmVzaXplKCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCd3aW5kb3cgcmVzaXplZCcpO1xuXHRcdFx0fSwgMTAwKTtcblx0XHR9LFxuXG5cdH07XG5cdHJldHVybiB7XG5cdFx0bWFpbjogbWFpblxuXHR9O1xuXG59KSgpO1xuXG5jaGVpbGxvbmRvbi50YXJnZXRCb2lsZXJwbGF0ZS5tYWluLmluaXQoKTtcblxuIl19"}